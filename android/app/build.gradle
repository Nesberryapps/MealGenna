// DO NOT EDIT THIS FILE!
// This is an autogenerated file, any manual changes will be overwritten.
// This file was generated by the @capacitor/android build process

apply plugin: 'com.android.application'
apply plugin: 'com.google.gms.google-services'

def appProject = rootProject.findProject(':app')
def isAppDebuggable = appProject.android.buildTypes.debug.debuggable
def capacitorProject = rootProject.findProject(':capacitor-android')
def cordovaProject = rootProject.findProject(':capacitor-cordova-android-plugins')

android {
    namespace "com.nesberry.mealgenna.pro"
    compileSdkVersion 34
    defaultConfig {
        applicationId "com.nesberry.mealgenna.pro"
        minSdkVersion 22
        targetSdkVersion 34
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
        aaptOptions {
             // Files and dirs to omit from the packaged assets dir, modified by capacitor-android transparently.
             noCompress '**.js'
             noCompress '**.js.map'
             noCompress '**.css'
             noCompress '**.html'
             ignoreAssetsPattern '!.git'
             ignoreAssetsPattern '!.svn'
             ignoreAssetsPattern '!.hg'
             ignoreAssetsPattern '!.DS_Store'
             ignoreAssetsPattern '!.cproject'
             ignoreAssetsPattern '!.project'
             ignoreAssetsPattern '!.idea'
             ignoreAssetsPattern '!.vs'
             ignoreAssetsPattern '!.gradle'
             ignoreAssetsPattern '!.idea'
             ignoreAssetsPattern '!.gitignore'
             ignoreAssetsPattern '!.gitkeep'
             ignoreAssetsPattern '!.npmignore'
             ignoreAssetsPattern '!.babelrc'
             ignoreAssetsPattern '!.browserslistrc'
             ignoreAssetsPattern '!.editorconfig'
             ignoreAssetsPattern '!.eslintrc'
             ignoreAssetsPattern '!.flowconfig'
             ignoreAssetsPattern '!.prettierrc'
             ignoreAssetsPattern '!.watchmanconfig'
             ignoreAssetsPattern 'package.json'
             ignoreAssetsPattern 'package-lock.json'
             ignoreAssetsPattern 'gradle-wrapper.properties'
        }
    }
    signingConfigs {
        release {
            if (project.hasProperty('MYAPP_RELEASE_STORE_FILE')) {
                storeFile file(MYAPP_RELEASE_STORE_FILE)
                storePassword MYAPP_RELEASE_STORE_PASSWORD
                keyAlias MYAPP_RELEASE_KEY_ALIAS
                keyPassword MYAPP_RELEASE_KEY_PASSWORD
            }
        }
    }
    buildTypes {
        debug {
            minifyEnabled false
            shrinkResources false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            debuggable isAppDebuggable
        }
        release {
            minifyEnabled true
            shrinkResources true
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            signingConfig signingConfigs.release
        }
    }
    lintOptions {
        abortOnError false
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
}

repositories {
    flatDir{
        dirs '../capacitor-cordova-android-plugins/src/main/libs'
    }
}

dependencies {
    implementation fileTree(include: ['*.jar'], dir: 'libs')
    implementation "androidx.appcompat:appcompat:1.6.1"
    implementation "androidx.coordinatorlayout:coordinatorlayout:1.2.0"
    implementation "androidx.core:core-splashscreen:1.0.0"
    implementation "androidx.webkit:webkit:1.4.0"
    implementation project(':capacitor-android')
    testImplementation "junit:junit:4.13.2"
    androidTestImplementation "androidx.test.ext:junit:1.1.5"
    androidTestImplementation "androidx.test.espresso:espresso-core:3.5.1"
    implementation project(':capacitor-cordova-android-plugins')
}

apply from: 'capacitor.build.gradle'
def getEntryFile() {
    return "src/main/assets/capacitor.plugins.json"
}

def getPlugins() {
    def pluginsFile = file(getEntryFile())
    if (pluginsFile.exists()) {
        return new groovy.json.JsonSlurper().parseText(pluginsFile.text)
    }
    return []
}

if (pluginsFile.exists()) {
    // We have some plugins defined, going to add the necessary dependencies
    getPlugins().each { plugin ->
        if (plugin.maven) {
            implementation plugin.maven
        } else if (plugin.path) {
            def pluginProject = rootProject.findProject(plugin.path)
            if (pluginProject != null) {
                implementation pluginProject
            }
        }
    }
}

task copyCordovaPluginsAssets() {
    // Always run this task
    def plugins = getPlugins()
    plugins.each { plugin ->
        if (plugin.asset) {
            def assets = plugin.asset.subList(0, plugin.asset.size())
            def targetDir = plugin.asset.get(plugin.asset.size() - 1)
            copy {
                from assets
                into targetDir
            }
        }
    }
}
preBuild.dependsOn(copyCordovaPluginsAssets)

if (hasProperty('postBuildExtras')) {
    postBuildExtras()
}
